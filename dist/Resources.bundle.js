(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1143:function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(module) {(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(61)(module)))\n\n//# sourceURL=webpack:///./node_modules/valid-url/index.js?")},1293:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var material_ui_Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25);\n/* harmony import */ var material_ui_Card__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(material_ui_Card__WEBPACK_IMPORTED_MODULE_1__);\n// resources.tsx\n// required by bundler\n\nvar { Component } = react__WEBPACK_IMPORTED_MODULE_0__;\n\nlet moment = __webpack_require__(2);\nlet validurl = __webpack_require__(1143);\nclass Resources extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            resources: null\n        };\n        this.resourcesintro = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["CardTitle"], { title: "Budget Resources", subtitle: "A starter kit of external links" }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["CardText"], null, "We\'ve assembled some web links to get you started. Click on a class of links below, to see details. If you find something that should be added to this list, let us know at ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { target: "_blank", href: "mailto:mail@budgetpedia.ca" }, "mail@budgetpedia.ca"), ".")));\n        this.lists = null;\n        this.prepareLists = () => {\n            if (!this.state.resources) return;\n            if (this.lists) return;\n            let resources = this.state.resources;\n            let sections = resources.Sections;\n            let rawlinks = resources.Data;\n            let rawlink;\n            for (rawlink of rawlinks) {\n                sections[rawlink.section].links.push(rawlink);\n            }\n            let sectionlist = [];\n            for (let sectionname in sections) {\n                sectionlist.push(sections[sectionname]);\n            }\n            sectionlist = sectionlist.sort((a, b) => {\n                return a.index - b.index;\n            });\n            this.lists = sectionlist;\n        };\n        this.getSectionContent = links => {\n            let linkslist = links.map((linkdata, index) => {\n                let { title, description, link } = linkdata;\n                let displaylink;\n                if (!validurl.isUri(link)) {\n                    displaylink = null;\n                    console.log(\'invalid resource link\', linkdata);\n                } else {\n                    displaylink = link;\n                }\n                return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { key: index, style: {\n                        border: "1px dashed silver",\n                        margin: "0 3px 8px 3px",\n                        padding: "3px",\n                        borderRadius: "8px"\n                    } }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("em", null, "Title:"), " ", title), description ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("em", null, "Description:"), " ", description, " ") : null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, displaylink ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("em", null, "See"), " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { target: "_blank", href: displaylink }, "web page")) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("em", null, "Link not available")));\n            });\n            return linkslist;\n        };\n        this.getSections = () => {\n            let lists = this.lists;\n            let sections = lists.map((section, index) => {\n                let content = this.getSectionContent(section.links);\n                let intro = null;\n                if (section.link || section.note) {\n                    let link = null;\n                    let note = null;\n                    if (section.link) {\n                        let isvalidurl = validurl.isUri(section.link);\n                        if (!isvalidurl) {\n                            console.log(\'invalidurl for section\', section);\n                        }\n                        link = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null, "See ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", { target: "_blank", href: section.link }, "website"));\n                    }\n                    if (section.note) {\n                        note = section.note + \'. \';\n                    }\n                    intro = react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["CardText"], { expandable: true }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null, note, link));\n                }\n                return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], { key: index }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["CardTitle"], { actAsExpander: true, showExpandableButton: true, title: section.title, subtitle: section.description || null }), intro, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](material_ui_Card__WEBPACK_IMPORTED_MODULE_1__["CardText"], { expandable: true }, content));\n            });\n            return sections;\n        };\n        this.getResources = () => {\n            let resources = null;\n            if (!this.lists) return resources;\n            resources = this.getSections();\n            return resources;\n        };\n    }\n    componentDidMount() {\n        fetch(\'./db/repositories/toronto/resources/resources.json\').then(response => {\n            if (response.ok) {\n                return response.json();\n            } else {\n                console.log(\'response error\', response);\n            }\n        }).then(json => {\n            this.setState({\n                resources: json\n            });\n        }).catch(error => {\n            console.log(\'error\', error);\n        });\n    }\n    render() {\n        this.prepareLists();\n        let resources = this.getResources();\n        return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, this.resourcesintro, resources);\n    }\n}\n/* harmony default export */ __webpack_exports__["default"] = (Resources);\n\n//# sourceURL=webpack:///./ts/addons/pages/resources.tsx?')}}]);